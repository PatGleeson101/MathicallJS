var Mathicall=function(e){"use strict";const t=[Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array];function r(e,t,r){if(e.constructor!==Number)throw`${r}: ${t} must be of type Number.`;if(!isFinite(e))throw`${r}: ${t} cannot be NaN or Infinity.`}function n(e,r,n){if(!t.includes(e.constructor)){if(Array.isArray(e)){const t=e.length;0===t&&console.warn(`${n}: ${r} is empty.`);for(let c=0;c<t;c++){e[c];if(e.constructor!==Number)throw`${n}: ${r} must an array of Numbers.`;if(!isFinite(e))throw`${n}: ${r} contains NaN or Infinity.`}}throw`${n}: ${r} must be an Array or TypedArray.`}}function c(e,t,r){if(!Number.isInteger(e))throw`${r}: ${t} must be an integer of type Number.`}function o(e,t,n){if(r(e,t,n),e<=0)throw`${n}: ${t} must be positive.`}function u(e,t,n){if(r(e,t,n),e<0)throw`${n}: ${t} must be non-negative.`}function f(e,t,r){if(!0!==e&&!1!==e)throw`${r}: ${t} must be a boolean value.`}function a(e,t,r,n){if(t){const t=e.length;if(e[t-1]>e[0]){for(let c=1;c<t;c++)if(e[c]<e[c-1])throw`${n}: sorted set to true but ${r} is unsorted`}else for(let c=1;c<t;c++)if(e[c]>e[c-1])throw`${n}: sorted set to true but ${r} is unsorted`}}function i(e,t,r){n(e,t,r);const c=e.length;if(c<2)throw`${r}: ${t} must have two components.`;c>2&&console.warn(`${r}: ${t} contains additional values which will be ignored.`),e[0]<0&&console.warn(`${r}: ${t} expressed with negative magnitude.`)}function s(e,t,r){n(e,t,r);const c=e.length;if(c<2)throw`${r}: ${t} must have two components.`;c>2&&console.warn(`${r}: ${t} contains additional values which will be ignored.`)}function l(e,t,r){c(e,t,r),o(e,t,r)}function z(e,t,r){n(e,t,r),l(e.rows,`${t}.rows`,r),l(e.cols,`${t}.cols`,r)}function b(e,t){e===w&&console.warn(`${t} overflow: returned Number.MAX_VALUE`)}function O(e,t){e>d&&console.warn(`${t} integer overflow: returned value is approximate.`)}Object.freeze(r),Object.freeze(n),Object.freeze(c),Object.freeze(o),Object.freeze(u),Object.freeze((function(e,t,r){n(e,t,r)})),Object.freeze((function(e,t,r){n(e,t,r),e[0]<0&&console.warn(`${r}: ${t} expressed with negative magnitude.`)})),Object.freeze(f),Object.freeze(a),Object.freeze(i),Object.freeze(s),Object.freeze(z),Object.freeze(l),Object.freeze(b),Object.freeze(O);const j=Math.E,m=Math.LN2,v=Math.SQRT2,g=Math.PI,d=Number.MAX_SAFE_INTEGER,w=Number.MAX_VALUE,_=Math.abs,h=Math.sign,y=Math.round,p=Math.trunc,A=Math.ceil,F=Math.floor,$=Math.sin,M=Math.asin,x=Math.cos,N=Math.acos,k=Math.tan,I=Math.atan,E=Math.atan2,T=Math.sqrt,R=Math.cbrt,U=Math.hypot,L=Math.pow,P=Math.exp,q=Math.log,S=Math.log2,V=Math.log10,X=Math.max,D=Math.min,G=Math.random,B=180/g,Q=1/B,C=2*g,H=.5*g,W=1/g;function J(e,t,r){return e+(t-e)*r}function K(e,t){return(e%t+t)%t}function Y(e){return e-p(e)}function Z(e){return e*B}function ee(e){return e*Q}function te(e,t,r){const n=r[0],c=t[0];return n+(r[1]-n)*(e-c)/(t[1]-c)}function re(e,t,n){const c="lerp(x, y, r)";return r(e,"x",c),r(t,"y",c),r(n,"r",c),J(e,t,n)}function ne(e,t){const n="mod(x, m)";return r(e,"x",n),r(t,"m",n),K(e,t)}function ce(e){return r(e,"x","fract(x)"),Y(e)}function oe(e){return r(e,"radians","deg(radians)"),Z(e)}function ue(e){return r(e,"degrees","rad(degrees)"),ee(e)}function fe(e,t,n){return r(e,"x","linmap(x, domain, range)"),te(e,t,n)}Object.freeze(J),Object.freeze(K),Object.freeze(Y),Object.freeze(Z),Object.freeze(ee),Object.freeze(te),Object.freeze(re),Object.freeze(ne),Object.freeze(ce),Object.freeze(oe),Object.freeze(ue),Object.freeze(fe);var ae=Object.freeze({__proto__:null,lerp:re,mod:ne,fract:ce,deg:oe,rad:ue,linmap:fe}),ie=Object.freeze({__proto__:null,debug:ae,E:j,LN2:m,SQRT2:v,PI:g,MAX_SAFE_INTEGER:d,MAX_VALUE:w,abs:_,sign:h,round:y,trunc:p,ceil:A,floor:F,sin:$,asin:M,cos:x,acos:N,tan:k,atan:I,atan2:E,sqrt:T,cbrt:R,hypot:U,pow:L,exp:P,ln:q,log2:S,log10:V,max:X,min:D,random:G,RAD_TO_DEG:B,DEG_TO_RAD:Q,TWO_PI:C,HALF_PI:H,INV_PI:W,lerp:J,mod:K,fract:Y,deg:Z,rad:ee,linmap:te});function se(e=170){const t=e+1,r=new Float64Array(t);r[0]=1;for(let e=1;e<t;e++)r[e]=e*r[e-1];return r}function le(e=30){const t=new Float64Array(.5*(e+1)*(e+2));let r=-1;for(let n=0;n<=e;n++){t[r++]=1;for(let e=1;e<n;e++)t[r]=t[r-n-1]+t[r-n],r++;t[r++]=1}return t}const ze=se();let be,Oe;function je(e){be=e,Oe=le(e)}function me(e){if(!(e<0))return e>170?w:ze[e]}function ve(e,t){if(t>e||e<0||t<0)return 0;if(e<=be)return Oe[.5*e*(e+1)+t];const r=D(t,e-t);if(r>514)return w;const n=e-r;let c=1,o=1;for(;o<=r;)c*=(n+o)/o++;return c}function ge(e,t){if(t>e||e<0||t<0)return 0;if(t>170)return w;if(t=e-t,e<171)return y(ze[e]/ze[t]);let r=1;for(t<160&&(r=y(ze[170]/ze[t]),t=170);t<e;)r*=++t;return r}function de(e,t){if(e=_(e),t=_(t),0===e)return t;if(0===t)return e;if(e<4294967296&&t<4294967296){let r=0;for(;0==(1&(e|t));)e>>>=1,t>>>=1,r++;for(;0==(1&e);)e>>>=1;for(;0!==t;){for(;0==(1&t);)t>>>=1;if(e>t){const r=e;e=t,t=r}t-=e}return e<<r}for(;e!==t;)e>t?e-=t:t-=e;return e}function we(e,t){return 0===e||0===t?0:_(e/de(e,t)*t)}function _e(e,t,r){if(t=_(t),1===r)return 0;{let n=1;for(e%=r;t>0;)1&t&&(n=n*e%r),t>>=1,e=e**2%r;return n}}function he(e){const t="factorial(n)";c(e,"n",t),u(e,"n",t);const r=me(e);return b(r,t),O(r,t),r}function ye(e,t){const r="choose(n, r)";c(e,"n",r),c(t,"r",r);const n=ve(e,t);return b(n,r),O(n,r),n}function pe(e,t){const r="permute(n, r)";c(e,"n",r),c(t,"r",r);const n=ge(e,t);return b(n,r),O(n,r),n}function Ae(e,t){const r="gcd(a, b)";return c(e,"a",r),c(t,"b",r),de(e,t)}function Fe(e,t){const r="lcm(a, b)";return c(e,"a",r),c(t,"b",r),we(e,t)}function $e(e,t,r){const n="mpow(base, exp, m)";return c(e,"base",n),c(t,"exp",n),u(t,"exp",n),c(r,"m",n),_e(e,t,r)}je(30),Object.freeze(se),Object.freeze(le),Object.freeze(je),Object.freeze(me),Object.freeze(ve),Object.freeze(ge),Object.freeze(de),Object.freeze(we),Object.freeze(_e),Object.freeze(he),Object.freeze(ye),Object.freeze(pe),Object.freeze(Ae),Object.freeze(Fe),Object.freeze($e);var Me=Object.freeze({__proto__:null,factorial:he,choose:ye,permute:pe,gcd:Ae,lcm:Fe,mpow:$e}),xe=Object.freeze({__proto__:null,debug:Me,computeFactorials:se,computeBinomials:le,precomputeBinomials:je,factorial:me,choose:ve,permute:ge,gcd:de,lcm:we,mpow:_e});function Ne(e,t){let r=0;const n=e.length;for(let c=0;c<n;c++)r+=e[c]*t[c];return r}function ke(e,t){return e[0]*t[0]+e[1]*t[1]}function Ie(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]}function Ee(e,t){return e[0]*t[0]+e[1]*t[1]+e[2]*t[2]+e[3]*t[3]}function Te(e,t,r=new Float64Array(3)){return r[0]=e[1]*t[2]-e[2]*t[1],r[1]=e[2]*t[0]-e[0]*t[2],r[2]=e[0]*t[1]-e[1]*t[0],r}function Re(e,t,r=new Float64Array(e.length)){const n=e.length;for(let c=0;c<n;c++)r[c]=e[c]+t[c];return r}function Ue(e,t,r=new Float64Array(2)){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function Le(e,t,r=new Float64Array(3)){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r}function Pe(e,t,r=new Float64Array(4)){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r[2]=e[2]+t[2],r[3]=e[3]+t[3],r}function qe(e,t,r=new Float64Array(e.length)){const n=e.length;for(let c=0;c<n;c++)r[c]=e[c]-t[c];return r}function Se(e,t,r=new Float64Array(2)){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function Ve(e,t,r=new Float64Array(3)){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r}function Xe(e,t,r=new Float64Array(4)){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r[2]=e[2]-t[2],r[3]=e[3]-t[3],r}function De(e){return U(...e)}function Ge(e){return U(e[0],e[1])}function Be(e){return U(e[0],e[1],e[2])}function Qe(e){return U(e[0],e[1],e[2],e[3])}function Ce(e,t,r=new Float64Array(e.length)){const n=e.length;for(let c=0;c<n;c++)r[c]=e[c]*t;return r}function He(e,t,r=new Float64Array(2)){return r[0]=e[0]*t,r[1]=e[1]*t,r}function We(e,t,r=new Float64Array(3)){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r}function Je(e,t,r=new Float64Array(4)){return r[0]=e[0]*t,r[1]=e[1]*t,r[2]=e[2]*t,r[3]=e[3]*t,r}function Ke(e,t){return scale(e,1/De(e),t)}function Ye(e,t){return scale2(e,1/Ge(e),t)}function Ze(e,t){return scale3(e,1/Be(e),t)}function et(e,t){return scale4(e,1/Qe(e),t)}function tt(e,t){return N(Ne(e,t)/(De(e)*De(t)))}function rt(e,t){return N(ke(e,t)/(Ge(e)*Ge(t)))}function nt(e,t){return N(Ie(e,t)/(Be(e)*Be(t)))}function ct(e,t){return N(Ee(e,t)/(Qe(e)*Qe(t)))}function ot(e,t=new Float64Array(e.length)){const r=e.length;for(let n=0;n<r;n++)t[n]=Y(e[n]);return t}function ut(e,t=new Float64Array(2)){return t[0]=Y(e[0]),t[1]=Y(e[1]),t}function ft(e,t=new Float64Array(3)){return t[0]=Y(e[0]),t[1]=Y(e[1]),t[2]=Y(e[2]),t}function at(e,t=new Float64Array(4)){return t[0]=Y(e[0]),t[1]=Y(e[1]),t[2]=Y(e[2]),t[3]=Y(e[3]),t}function it(e,t=new Float64Array(2)){t[0]=Ge(e),t[1]=E(e[1],e[0])+g}function st(e,t){const r="dot(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),Ne(e,t)}function lt(e,t){const r="dot2(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),ke(e,t)}function zt(e,t){const r="dot3(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),Ie(e,t)}function bt(e,t){const r="dot4(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),Ee(e,t)}function Ot(e,t,r){const c="cross3(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Te(e,t,r)}function jt(e,t,r){const c="add(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Re(e,t,r)}function mt(e,t,r){const c="add2(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Ue(e,t,r)}function vt(e,t,r){const c="add3(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Le(e,t,r)}function gt(e,t,r){const c="add4(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Pe(e,t,r)}function dt(e,t,r){const c="sub(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),qe(e,t,r)}function wt(e,t,r){const c="sub2(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Se(e,t,r)}function _t(e,t,r){const c="sub3(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Ve(e,t,r)}function ht(e,t,r){const c="sub4(vec1, vec2, ?target)";return n(e,"vec1",c),n(t,"vec2",c),Xe(e,t,r)}function yt(e){return n(e,"vec","mag(vec)"),De(e)}function pt(e){return n(e,"vec","mag2(vec)"),Ge(e)}function At(e){return n(e,"vec","mag3(vec)"),Be(e)}function Ft(e){return n(e,"vec","mag4(vec)"),Qe(e)}function $t(e,t,c){const o="smult(vec, k, ?target)";return n(e,"vec",o),r(t,"k",o),Ce(e,t,c)}function Mt(e,t,c){const o="smult2(vec, k, ?target)";return n(e,"vec",o),r(t,"k",o),He(e,t,c)}function xt(e,t,c){const o="smult3(vec, k, ?target)";return n(e,"vec",o),r(t,"k",o),We(e,t,c)}function Nt(e,t,c){const o="smult4(vec, k, ?target)";return n(e,"vec",o),r(t,"k",o),Je(e,t,c)}function kt(e,t){return n(e,"vec","normalize(vec, ?target)"),Ke(e,t)}function It(e,t){return n(e,"vec","normalize2(vec, ?target)"),Ye(e,t)}function Et(e,t){return n(e,"vec","normalize3(vec, ?target)"),Ze(e,t)}function Tt(e,t){return n(e,"vec","normalize4(vec, ?target)"),et(e,t)}function Rt(e,t){const r="angle(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),tt(e,t)}function Ut(e,t){const r="angle2(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),rt(e,t)}function Lt(e,t){const r="angle3(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),nt(e,t)}function Pt(e,t){const r="angle4(vec1, vec2)";return n(e,"vec1",r),n(t,"vec2",r),ct(e,t)}function qt(e,t){return n(e,"vec","fract(vec, ?target)"),ot(e,t)}function St(e,t){return n(e,"vec","fract2(vec, ?target)"),ut(e,t)}function Vt(e,t){return n(e,"vec","fract3(vec, ?target)"),ft(e,t)}function Xt(e,t){return n(e,"vec","fract4(vec, ?target)"),at(e,t)}function Dt(e,t){return n(e,"vec","polar2(vec, ?target)"),it(e,t)}Object.freeze(Ne),Object.freeze(ke),Object.freeze(Ie),Object.freeze(Ee),Object.freeze(Te),Object.freeze(Re),Object.freeze(Ue),Object.freeze(Le),Object.freeze(Pe),Object.freeze(qe),Object.freeze(Se),Object.freeze(Ve),Object.freeze(Xe),Object.freeze(De),Object.freeze(Ge),Object.freeze(Be),Object.freeze(Qe),Object.freeze(Ce),Object.freeze(He),Object.freeze(We),Object.freeze(Je),Object.freeze(Ke),Object.freeze(Ye),Object.freeze(Ze),Object.freeze(et),Object.freeze(tt),Object.freeze(rt),Object.freeze(nt),Object.freeze(ct),Object.freeze(ot),Object.freeze(ut),Object.freeze(ft),Object.freeze(at),Object.freeze(it),Object.freeze(st),Object.freeze(lt),Object.freeze(zt),Object.freeze(bt),Object.freeze(Ot),Object.freeze(jt),Object.freeze(mt),Object.freeze(vt),Object.freeze(gt),Object.freeze(dt),Object.freeze(wt),Object.freeze(_t),Object.freeze(ht),Object.freeze(yt),Object.freeze(pt),Object.freeze(At),Object.freeze(Ft),Object.freeze($t),Object.freeze(Mt),Object.freeze(xt),Object.freeze(Nt),Object.freeze(kt),Object.freeze(It),Object.freeze(Et),Object.freeze(Tt),Object.freeze(Rt),Object.freeze(Ut),Object.freeze(Lt),Object.freeze(Pt),Object.freeze(qt),Object.freeze(St),Object.freeze(Vt),Object.freeze(Xt),Object.freeze(Dt);var Gt=Object.freeze({__proto__:null,dot:st,dot2:lt,dot3:zt,dot4:bt,cross3:Ot,add:jt,add2:mt,add3:vt,add4:gt,sub:dt,sub2:wt,sub3:_t,sub4:ht,mag:yt,mag2:pt,mag3:At,mag4:Ft,smult:$t,smult2:Mt,smult3:xt,smult4:Nt,normalize:kt,normalize2:It,normalize3:Et,normalize4:Tt,angle:Rt,angle2:Ut,angle3:Lt,angle4:Pt,fract:qt,fract2:St,fract3:Vt,fract4:Xt,polar2:Dt}),Bt=Object.freeze({__proto__:null,debug:Gt,dot:Ne,dot2:ke,dot3:Ie,dot4:Ee,cross3:Te,add:Re,add2:Ue,add3:Le,add4:Pe,sub:qe,sub2:Se,sub3:Ve,sub4:Xe,mag:De,mag2:Ge,mag3:Be,mag4:Qe,smult:Ce,smult2:He,smult3:We,smult4:Je,normalize:Ke,normalize2:Ye,normalize3:Ze,normalize4:et,angle:tt,angle2:rt,angle3:nt,angle4:ct,fract:ot,fract2:ut,fract3:ft,fract4:at,polar2:it});function Qt(e,t){return e[0]*t[0]*x(e[1]-t[1])}function Ct(e){return _(e[0])}function Ht(e,t,r=new Float64Array(2)){r[0]=e[0]*t,r[1]=K(e[1],C)}function Wt(e,t=new Float64Array(2)){t[0]=1,t[1]=K(e[1],C)}function Jt(e,t=new Float64Array(2)){const r=e[0],n=e[1];return t[0]=r*x(n),t[1]=r*$(n),t}Object.freeze(Qt),Object.freeze(Ct),Object.freeze(Ht),Object.freeze(Wt),Object.freeze(Jt);var Kt=Object.freeze({__proto__:null,dot2:Qt,mag:Ct,smult2:Ht,normalize2:Wt,rect2:Jt}),Yt=Object.freeze({__proto__:null,rect:Bt,polar:Kt});function Zt(e,t){const r=new Float64Array(e*t);return r.rows=e,r.cols=t,r}function er(e,t,r){const n=new Float64Array(e*t);return n.fill(r),n.rows=e,n.cols=t,n}function tr(e){const t=e*e,r=e+1,n=new Float64Array(t);for(let e=0;e<t;e+=r)n[e]=1;return n.rows=e,n.cols=e,n}function rr(e,t=new Float64Array(e.length*e[0].length)){const r=e.length,n=e[0].length;for(let c=0;c<r;c++)for(let o=0;o<n;o++)t[c*r+o]=e[c][o];return t.rows=r,t.cols=n,t}function nr(e,t,r=new Float64Array(e.length)){const n=e.length;for(let c=0;c<n;c++)r[c]=e[c]*t;return r.rows=e.rows,r.cols=e.cols,r}function cr(e,t=new Float64Array(4)){t[0]=e[0],t[3]=e[3];const r=e[1];return t[1]=e[2],t[2]=r,t.rows=2,t.cols=2,t}function or(e,t=new Float64Array(9)){t[0]=e[0],t[4]=e[4],t[8]=e[8];let r=e[1];return t[1]=e[3],t[3]=r,r=e[2],t[2]=e[6],t[6]=r,r=e[5],t[5]=e[7],t[7]=r,t.rows=3,t.cols=3,t}function ur(e,t=new Float64Array(16)){t[0]=e[0],t[5]=e[5],t[10]=e[10],t[15]=e[15];let r=e[1];return t[1]=e[4],t[4]=r,r=e[2],t[2]=e[8],t[8]=r,r=e[3],t[3]=e[12],t[12]=r,r=e[6],t[6]=e[9],t[9]=r,r=e[7],t[7]=e[13],t[13]=r,r=e[11],t[11]=e[14],t[14]=r,t.rows=4,t.cols=4,t}function fr(e,t){const r=e.rows,n=e.cols,c=(t.rows,t.cols),o=new Float64Array(r*c);o.rows=r,o.cols=c;let u=0,f=0,a=0;for(let i=0;i<r;i++)for(let r=0;r<c;r+=1){u=0,f=n*i,a=r;for(let r=0;r<n;r+=1)u+=e[f]*t[a],f+=1,a+=c;o[i*c+r]=u}return o}function ar(e){return[e.rows,e.cols]}function ir(e){return e[0]*e[3]-e[1]*e[2]}function sr(e,t=new Float64Array(4)){const r=e[0],n=e[1],c=e[2],o=e[3],u=r*o-n*c;if(0===u)return;const f=1/u;return t[0]=o*f,t[3]=r*f,t[1]=-n*f,t[2]=-c*f,t.rows=2,t.cols=2,t}function lr(e,t){const r="zeros(m, n)";return l(e,"m",r),l(t,"n",r),Zt(e,t)}function zr(e,t,n){const c="constant(m, n, value)";return l(e,"m",c),l(t,"n",c),r(n,"value",c),er(e,t,n)}function br(e){return l(e,"m","identity(m)"),tr(e)}function Or(e,t){return rr(e,t)}function jr(e,t,n){const c="smult(mat, k, target)";return z(e,"mat",c),r(t,"k",c),nr(e,t,n)}function mr(e,t){return z(e,"mat","transpose2(mat, target)"),cr(e,t)}function vr(e,t){return z(e,"mat","transpose3(mat, target)"),or(e,t)}function gr(e,t){return z(e,"mat","transpose4(mat, target)"),ur(e,t)}function dr(e,t){const r="mmult(mat1, mat2)";return z(e,"mat1",r),z(t,"mat2",r),fr(e,t)}function wr(e){return z(e,"mat","size(mat)"),ar(e)}function _r(e){return z(e,"mat","det2(mat)"),ir(e)}function hr(e,t){return z(e,"mat","inverse2(mat, target)"),sr(e,t)}Object.freeze(Zt),Object.freeze(er),Object.freeze(tr),Object.freeze(rr),Object.freeze(nr),Object.freeze(cr),Object.freeze(or),Object.freeze(ur),Object.freeze(fr),Object.freeze(ar),Object.freeze(ir),Object.freeze(sr),Object.freeze(lr),Object.freeze(zr),Object.freeze(br),Object.freeze(Or),Object.freeze(jr),Object.freeze(mr),Object.freeze(vr),Object.freeze(gr),Object.freeze(dr),Object.freeze(wr),Object.freeze(_r),Object.freeze(hr);var yr=Object.freeze({__proto__:null,zeros:lr,constant:zr,identity:br,flatten:Or,smult:jr,transpose2:mr,transpose3:vr,transpose4:gr,mmult:dr,size:wr,det2:_r,inverse2:hr}),pr=Object.freeze({__proto__:null,debug:yr,zeros:Zt,constant:er,identity:tr,flatten:rr,smult:nr,transpose2:cr,transpose3:or,transpose4:ur,mmult:fr,size:ar,det2:ir,inverse2:sr});function Ar(e,t=new Float64Array(2)){return t[0]=e[0],t[1]=-e[1],t}function Fr(e){return e[0]}function $r(e){return e[1]}function Mr(e){return E(e[1],e[0])}function xr(e){return U(e[0],e[1])}function Nr(e,t,r=new Float64Array(2)){return r[0]=e[0]+t[0],r[1]=e[1]+t[1],r}function kr(e,t,r=new Float64Array(2)){return r[0]=e[0]-t[0],r[1]=e[1]-t[1],r}function Ir(e,t,r=new Float64Array(2)){const n=e[0],c=e[1],o=t[0],u=t[1];return r[0]=n*o-c*u,r[1]=n*u-o*c,r}function Er(e,t,r=new Float64Array(2)){return r[0]=e[0]*t,r[1]=e[1]*t,r}function Tr(e,t,r=new Float64Array(2)){const n=e[0],c=e[1],o=t[0],u=t[1],f=1/(o*o+u*u);return r[0]=(n*o+c*u)*f,r[1]=(-n*u-o*c)*f,r}function Rr(e,t=new Float64Array(2)){e[0],e[1];const r=1/(re2*re2+im2*im2);return t[0]=(re1*re2+im1*im2)*r,t[1]=(-re1*im2-re2*im1)*r,t}function Ur(e,t=new Float64Array(2)){const r=e[0],n=e[1],c=U(r,n);return t[0]=c,t[1]=E(n,r),t}function Lr(e,t){return s(e,"z","conj(z, ?target)"),Ar(e,t)}function Pr(e){return s(e,"z","real(z)"),Fr(e)}function qr(e){return s(e,"z","imag(z)"),$r(e)}function Sr(e){return s(e,"z","arg(z)"),Mr(e)}function Vr(e){return s(e,"z","abs(z)"),xr(e)}function Xr(e,t,r){const n="add(z1, z2, ?target)";return s(e,"z1",n),s(t,"z2",n),Nr(e,t,r)}function Dr(e,t,r){const n="sub(z1, z2, ?target)";return s(e,"z1",n),s(t,"z2",n),kr(e,t,r)}function Gr(e,t,r){const n="cmult(z1, z2, ?target)";return s(e,"z1",n),s(t,"z2",n),Ir(e,t,r)}function Br(e,t,n){const c="smult(z, k, ?target)";return s(e,"z",c),r(t,"k",c),Er(e,t,n)}function Qr(e,t,r){const n="div(z1, z2, ?target)";return s(e,"z1",n),s(t,"z2",n),Tr(e,t,r)}function Cr(e,t){return s(e,"z","inverse(z, ?target)"),Rr(e,t)}function Hr(e,t){return s(e,"z","inverse(z, ?target)"),Rr(e,t)}Object.freeze(Ar),Object.freeze(Fr),Object.freeze($r),Object.freeze(Mr),Object.freeze(xr),Object.freeze(Nr),Object.freeze(kr),Object.freeze(Ir),Object.freeze(Er),Object.freeze(Tr),Object.freeze(Rr),Object.freeze(Ur),Object.freeze(Lr),Object.freeze(Pr),Object.freeze(qr),Object.freeze(Sr),Object.freeze(Vr),Object.freeze(Xr),Object.freeze(Dr),Object.freeze(Gr),Object.freeze(Br),Object.freeze(Qr),Object.freeze(Cr),Object.freeze(Hr);var Wr=Object.freeze({__proto__:null,conj:Lr,real:Pr,imag:qr,arg:Sr,abs:Vr,add:Xr,sub:Dr,cmult:Gr,smult:Br,div:Qr,inverse:Cr,polar:Hr}),Jr=Object.freeze({__proto__:null,debug:Wr,conj:Ar,real:Fr,imag:$r,arg:Mr,abs:xr,add:Nr,sub:kr,cmult:Ir,smult:Er,div:Tr,inverse:Rr,polar:Ur});function Kr(e){return(e%=C)>g?e-C:e<-g?e+C:e}function Yr(e,t=new Float64Array(2)){const r=e[0],n=e[1];return r<0?(t[0]=-r,t[1]=-Kr(n+g)):(t[0]=r,t[1]=-Kr(n)),t}function Zr(e){return e[0]*x(e[1])}function en(e){return e[0]*$(e[1])}function tn(e){return Kr(e[1])}function rn(e){return _(e[0])}function nn(e,t,r=new Float64Array(2)){const n=e[0]*t,c=e[1];return n<0?(r[0]=-n,r[1]=Kr(c+g)):(r[0]=n,r[1]=Kr(c)),r}function cn(e,t,r=new Float64Array(2)){const n=e[0]*t[0],c=e[1]+t[1];return n<0?(r[0]=-n,r[1]=Kr(c+g)):(r[0]=n,r[1]=Kr(c)),r}function on(e,t,r=new Float64Array(2)){const n=t[0];if(0===n)return;const c=e[0]/n,o=e[1]-t[1];return c<0?(r[0]=-c,r[1]=Kr(o+g)):(r[0]=c,r[1]=Kr(o)),r}function un(e,t,r=new Float64Array(2)){const n=e[0],c=e[1];return n<0?(r[0]=L(-n,t),r[1]=Kr(t*(c+g))):(r[0]=L(n,t),r[1]=Kr(t*c)),r}function fn(e,t=new Float64Array(2)){const r=e[0];if(0===r)return;const n=e[1];return r<0?(t[0]=-1/r,t[1]=Kr(-n-g)):(t[0]=1/r,t[1]=Kr(-n)),t}function an(e,t=new Float64Array(2)){const r=e[0],n=e[1];return t[0]=r*x(n),t[1]=r*$(n),t}function sn(e,t){return i(e,"z","conj(z, ?target)"),Yr(e,t)}function ln(e){return i(e,"z","real(z)"),Zr(e)}function zn(e){return i(e,"z","imag(z)"),en(e)}function bn(e){return i(e,"z","arg(z)"),tn(e)}function On(e){return i(e,"z","abs(z)"),rn(e)}function jn(e,t,n){const c="smult(z, k, ?target)";return i(e,"z",c),r(t,"k",c),nn(e,t,n)}function mn(e,t,r){const n="cmult(z1, z2, ?target)";return i(e,"z1",n),i(t,"z2",n),cn(e,t,r)}function vn(e,t,r){const n="div(z1, z2, ?target)";return i(e,"z1",n),i(t,"z2",n),on(e,t,r)}function gn(e,t,n){const c="pow(z, n, ?target)";return i(e,"z",c),r(t,"n",c),un(e,t,n)}function dn(e,t){return i(e,"z","inverse(z, ?target)"),fn(e,t)}function wn(e,t){return i(e,"z","rect(z, ?target)"),an(e,t)}Object.freeze(Yr),Object.freeze(Zr),Object.freeze(en),Object.freeze(tn),Object.freeze(rn),Object.freeze(nn),Object.freeze(cn),Object.freeze(on),Object.freeze(un),Object.freeze(fn),Object.freeze(an),Object.freeze(sn),Object.freeze(ln),Object.freeze(zn),Object.freeze(bn),Object.freeze(On),Object.freeze(jn),Object.freeze(mn),Object.freeze(vn),Object.freeze(gn),Object.freeze(dn),Object.freeze(wn);var _n=Object.freeze({__proto__:null,conj:sn,real:ln,imag:zn,arg:bn,abs:On,smult:jn,cmult:mn,div:vn,pow:gn,inverse:dn,rect:wn}),hn=Object.freeze({__proto__:null,debug:_n,conj:Yr,real:Zr,imag:en,arg:tn,abs:rn,smult:nn,cmult:cn,div:on,pow:un,inverse:fn,rect:an}),yn=Object.freeze({__proto__:null,rect:Jr,polar:hn});function pn(e){const t=e.length;let r=0;for(let n=0;n<t;n++)r+=e[n];return r}function An(e,t=!1){const r=e.length;if(t)return D(e[0],e[r-1]);let n=e[0],c=0;for(let t=1;t<r;t++)c=e[t],c<n&&(n=c);return n}function Fn(e,t=!1){const r=e.length;if(t)return X(e[0],e[r-1]);let n=e[0],c=0;for(let t=1;t<r;t++)c=e[t],c>n&&(n=c);return n}function $n(e){const t=e.length;let r=e[0];for(let n=1;n<t;n++)r*=e[n];return r}function Mn(e,t=!1){const r=e.length;if(t){const t=new Float64Array(r);let n=0,c=0,o=e[0],u=0;for(;u<r;)for(resultBlock[n++]=o,c=o;o===c;)o=e[u++];return t.slice(0,n)}{const t={};let n=0;for(let c=0;c<r;c++)n=e[c],t[n]=n;return new Float64Array(t.values())}}function xn(e,t,r=!1){const n=e.length;if(!r||n<=64){for(let r=0;r<n;r++)if(e[r]===t)return r}else{let r=0,c=n-1,o=e[r],u=e[c],f=0,a=0;if(o>u){if(o<t||u>t)return-1;for(;c-r>64;)f=F(.5*(r+c)),a=e[f],a>t?r=f:c=f}else{if(o>t||u<t)return-1;for(;c-r>64;)f=F(.5*(r+c)),a=e[f],a<t?r=f:c=f}for(;r<=c;){if(array[r]===t)return r;r++}}return-1}function Nn(e){const t="sum(arr)";n(e,"arr",t);const r=pn(e);return b(r,t),r}function kn(e,t){const r="min(arr, ?sorted)";return n(e,"arr",r),f(t,"sorted",r),An(e,t)}function In(e,t){const r="max(arr, ?sorted)";return n(e,"arr",r),f(t,"sorted",r),Fn(e,t)}function En(e){return n(e,"arr","prod(arr)"),$n(e)}function Tn(e,t){const r="unique(arr, ?sorted)";return n(e,"arr",r),f(t,"sorted",r),Mn(e,t)}function Rn(e,t,r){const c="indexOf(arr, value, ?sorted)";return f(r,"sorted",c),n(e,"arr",c),a(e,r,"arr",c),xn(e,t,r)}Object.freeze(pn),Object.freeze(An),Object.freeze(Fn),Object.freeze($n),Object.freeze(Mn),Object.freeze(xn),Object.freeze(Nn),Object.freeze(kn),Object.freeze(In),Object.freeze(En),Object.freeze(Tn),Object.freeze(Rn);var Un=Object.freeze({__proto__:null,sum:Nn,min:kn,max:In,prod:En,unique:Tn,indexOf:Rn}),Ln=Object.freeze({__proto__:null,debug:Un,sum:pn,min:An,max:Fn,prod:$n,unique:Mn,indexOf:xn});return e.VERSION="beta-3.0.0",e.array=Ln,e.complex=yn,e.integer=xe,e.matrix=pr,e.standard=ie,e.vector=Yt,Object.defineProperty(e,"__esModule",{value:!0}),e}({});
